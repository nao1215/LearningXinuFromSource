<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>XINU: include/memory.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">XINU
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">memory.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>メモリマネージャが使用する定数と構造体の宣言  
<a href="#details">More...</a></p>
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d57/memory_8h__dep__incl.png" border="0" usemap="#include_2memory_8hdep" alt=""/></div>
<map name="include_2memory_8hdep" id="include_2memory_8hdep">
<area shape="rect" id="node2" href="../../d2/dbe/xinu_8h.html" title="全てのシステムヘッダファイルをインクルードする。 " alt="" coords="2757,80,2859,107"/>
<area shape="rect" id="node3" href="../../d1/df2/fprintf_8c.html" title="lib/fprintf.c" alt="" coords="5,155,88,181"/>
<area shape="rect" id="node4" href="../../d7/dd4/getchar_8c.html" title="STDIN（標準入力）から文字を読み込む。 " alt="" coords="112,155,205,181"/>
<area shape="rect" id="node5" href="../../d1/d3d/printf_8c.html" title="lib/printf.c" alt="" coords="230,155,309,181"/>
<area shape="rect" id="node6" href="../../db/de0/putchar_8c.html" title="lib/putchar.c" alt="" coords="333,155,427,181"/>
<area shape="rect" id="node7" href="../../d1/d94/config_2conf_8c.html" title="config/conf.c" alt="" coords="451,155,549,181"/>
<area shape="rect" id="node8" href="../../d6/d94/arp_8c.html" title="net/arp.c" alt="" coords="573,155,646,181"/>
<area shape="rect" id="node9" href="../../d8/d5c/arp__dump_8c.html" title="RPキャッシュエントリの内容を表示する。 " alt="" coords="671,155,783,181"/>
<area shape="rect" id="node10" href="../../dd/d53/dhcp_8c.html" title="net/dhcp.c" alt="" coords="807,155,889,181"/>
<area shape="rect" id="node11" href="../../d9/d54/dns_8c.html" title="net/dns.c" alt="" coords="914,155,990,181"/>
<area shape="rect" id="node12" href="../../d4/d99/dot2ip_8c.html" title="net/dot2ip.c" alt="" coords="1015,155,1105,181"/>
<area shape="rect" id="node13" href="../../db/da9/hexdump_8c.html" title="net/hexdump.c" alt="" coords="1130,155,1238,181"/>
<area shape="rect" id="node14" href="../../df/d61/icmp_8c.html" title="net/icmp.c" alt="" coords="1263,155,1345,181"/>
<area shape="rect" id="node15" href="../../d0/dc8/ip_8c.html" title="net/ip.c" alt="" coords="1370,155,1435,181"/>
<area shape="rect" id="node16" href="../../d7/d5f/net_8c.html" title="net/net.c" alt="" coords="1459,155,1533,181"/>
<area shape="rect" id="node17" href="../../d8/db4/pdump_8c.html" title="net/pdump.c" alt="" coords="1557,155,1651,181"/>
<area shape="rect" id="node18" href="../../d4/d9f/tftp_8c.html" title="net/tftp.c" alt="" coords="1676,155,1751,181"/>
<area shape="rect" id="node19" href="../../dd/dc4/udp_8c.html" title="net/udp.c" alt="" coords="1775,155,1851,181"/>
<area shape="rect" id="node20" href="../../d1/dbb/addargs_8c.html" title="XINUシェルが作成したコマンドプロセスのスタックに引数argv（任意個）のローカルコピーを追加する。 ..." alt="" coords="1875,155,1986,181"/>
<area shape="rect" id="node21" href="../../d2/d95/lexan_8c.html" title="shell/lexan.c" alt="" coords="2010,155,2105,181"/>
<area shape="rect" id="node22" href="../../d6/d4f/shell_8c.html" title="shell/shell.c" alt="" coords="2129,155,2220,181"/>
<area shape="rect" id="node23" href="../../dd/db7/xsh__argecho_8c.html" title="引数を順に表示する。 " alt="" coords="2244,155,2383,181"/>
<area shape="rect" id="node24" href="../../dc/dac/xsh__arp_8c.html" title="shell/xsh_arp.c" alt="" coords="2407,155,2518,181"/>
<area shape="rect" id="node25" href="../../d0/d1c/xsh__cat_8c.html" title="shell/xsh_cat.c" alt="" coords="2542,155,2653,181"/>
<area shape="rect" id="node26" href="../../dd/dc0/xsh__clear_8c.html" title="ディスプレイウィンドウをクリアする（xtermやVT100を想定している） " alt="" coords="2677,155,2797,181"/>
<area shape="rect" id="node27" href="../../dd/d6b/xsh__date_8c.html" title="shell/xsh_date.c" alt="" coords="2821,155,2939,181"/>
<area shape="rect" id="node28" href="../../d1/d5e/xsh__devdump_8c.html" title="shell/xsh_devdump.c" alt="" coords="2963,155,3109,181"/>
<area shape="rect" id="node29" href="../../d6/d6d/xsh__echo_8c.html" title="STDOUT（標準出力）に引数に指定した文字列を出力する。 " alt="" coords="3133,155,3253,181"/>
<area shape="rect" id="node30" href="../../d0/df4/xsh__exit_8c.html" title="XINUシェルにおけるexitコマンドを提供する。 " alt="" coords="3278,155,3391,181"/>
<area shape="rect" id="node31" href="../../d4/dfe/xsh__help_8c.html" title="shell/xsh_help.c" alt="" coords="3415,155,3531,181"/>
<area shape="rect" id="node32" href="../../da/d0a/xsh__kill_8c.html" title="shell/xsh_kill.c" alt="" coords="3555,155,3663,181"/>
<area shape="rect" id="node33" href="../../dd/dab/xsh__ls_8c.html" title="shell/xsh_ls.c" alt="" coords="3687,155,3790,181"/>
<area shape="rect" id="node34" href="../../de/d8d/xsh__memdump_8c.html" title="shell/xsh_memdump.c" alt="" coords="3814,155,3967,181"/>
<area shape="rect" id="node35" href="../../d8/d0c/xsh__memstat_8c.html" title="shell/xsh_memstat.c" alt="" coords="3991,155,4134,181"/>
<area shape="rect" id="node36" href="../../d8/dcd/xsh__netinfo_8c.html" title="shell/xsh_netinfo.c" alt="" coords="4159,155,4289,181"/>
<area shape="rect" id="node37" href="../../da/dc8/xsh__ping_8c.html" title="shell/xsh_ping.c" alt="" coords="4314,155,4430,181"/>
<area shape="rect" id="node38" href="../../df/d99/xsh__ps_8c.html" title="shell/xsh_ps.c" alt="" coords="4455,155,4561,181"/>
<area shape="rect" id="node39" href="../../d4/da3/xsh__rdstest_8c.html" title="shell/xsh_rdstest.c" alt="" coords="4586,155,4718,181"/>
<area shape="rect" id="node40" href="../../d5/d78/xsh__sleep_8c.html" title="shell/xsh_sleep.c" alt="" coords="4743,155,4865,181"/>
<area shape="rect" id="node41" href="../../df/d55/xsh__udpdump_8c.html" title="shell/xsh_udpdump.c" alt="" coords="4890,155,5035,181"/>
<area shape="rect" id="node42" href="../../db/d9f/xsh__udpecho_8c.html" title="shell/xsh_udpecho.c" alt="" coords="5060,155,5201,181"/>
<area shape="rect" id="node43" href="../../d7/d5d/xsh__udpserver_8c.html" title="shell/xsh_udpserver.c" alt="" coords="5225,155,5375,181"/>
<area shape="rect" id="node44" href="../../d9/dd8/xsh__uptime_8c.html" title="shell/xsh_uptime.c" alt="" coords="5399,155,5529,181"/>
<area shape="rect" id="node45" href="../../dc/d82/ascdate_8c.html" title="system/ascdate.c" alt="" coords="5554,155,5681,181"/>
<area shape="rect" id="node46" href="../../d7/da4/bufinit_8c.html" title="バッファプールデータ構造を初期化する。 " alt="" coords="5705,155,5820,181"/>
<area shape="rect" id="node47" href="../../d7/d41/chprio_8c.html" title="プロセスのスケジューリング優先度を変更する。 " alt="" coords="5844,155,5959,181"/>
<area shape="rect" id="node48" href="../../d8/de3/clkhandler_8c.html" title="system/clkhandler.c" alt="" coords="5983,155,6121,181"/>
<area shape="rect" id="node49" href="../../d9/dcb/clkinit_8c.html" title="system/clkinit.c" alt="" coords="6145,155,6260,181"/>
<area shape="rect" id="node50" href="../../d9/d22/close_8c.html" title="system/close.c" alt="" coords="6285,155,6395,181"/>
</map>
</div>
</div>
<p><a href="../../dc/d18/memory_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d18/structmemblk.html">memblk</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">メモリブロックを管理するための構造体。  <a href="../../da/d18/structmemblk.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:afbaa953760d51e147a40c0858b86c921"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d18/memory_8h.html#afbaa953760d51e147a40c0858b86c921">freestk</a>(p,  len)</td></tr>
<tr class="memdesc:afbaa953760d51e147a40c0858b86c921"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../dd/dc5/prototypes_8h.html#a1e76b5c58571b3f1d53078352cd458d0">getstk()</a>で割り当てたスタックメモリを解放する。  <a href="#afbaa953760d51e147a40c0858b86c921">More...</a><br /></td></tr>
<tr class="separator:afbaa953760d51e147a40c0858b86c921"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d467c1d283fdfa1f2081ba1e0d01b6e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d18/memory_8h.html#a7d467c1d283fdfa1f2081ba1e0d01b6e">PAGE_SIZE</a>&#160;&#160;&#160;4096</td></tr>
<tr class="memdesc:a7d467c1d283fdfa1f2081ba1e0d01b6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">ページサイズ(メモリ領域を管理する一定のサイズ。Byte単位)  <a href="#a7d467c1d283fdfa1f2081ba1e0d01b6e">More...</a><br /></td></tr>
<tr class="separator:a7d467c1d283fdfa1f2081ba1e0d01b6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cea716d0e0b7d875047cb28158fe8e1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d18/memory_8h.html#a7cea716d0e0b7d875047cb28158fe8e1">roundmb</a>(x)&#160;&#160;&#160;(char *)((7 + (<a class="el" href="../../d0/daa/kernel_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>)(x)) &amp; (~7))</td></tr>
<tr class="memdesc:a7cea716d0e0b7d875047cb28158fe8e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">メモリブロックサイズ（8の倍数）にアドレスを変換するために、8の倍数で丸める。  <a href="#a7cea716d0e0b7d875047cb28158fe8e1">More...</a><br /></td></tr>
<tr class="separator:a7cea716d0e0b7d875047cb28158fe8e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7de41f73b6eef70fca1b867fdbd121b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d18/memory_8h.html#ac7de41f73b6eef70fca1b867fdbd121b">truncmb</a>(x)&#160;&#160;&#160;(char *)(((<a class="el" href="../../d0/daa/kernel_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>)(x)) &amp; (~7))</td></tr>
<tr class="memdesc:ac7de41f73b6eef70fca1b867fdbd121b"><td class="mdescLeft">&#160;</td><td class="mdescRight">メモリブロックサイズ（8の倍数）にアドレスを変換するために、下位3bitを切り捨てる。  <a href="#ac7de41f73b6eef70fca1b867fdbd121b">More...</a><br /></td></tr>
<tr class="separator:ac7de41f73b6eef70fca1b867fdbd121b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1a7fd4447857ffb7fbce46a5c6ccc05a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d18/memory_8h.html#a1a7fd4447857ffb7fbce46a5c6ccc05a">bss</a></td></tr>
<tr class="memdesc:a1a7fd4447857ffb7fbce46a5c6ccc05a"><td class="mdescLeft">&#160;</td><td class="mdescRight">BSSセグメントの開始アドレス（リンカが追加する）  <a href="#a1a7fd4447857ffb7fbce46a5c6ccc05a">More...</a><br /></td></tr>
<tr class="separator:a1a7fd4447857ffb7fbce46a5c6ccc05a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eab91667db4d35c7231dcddf7b89a76"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d18/memory_8h.html#a9eab91667db4d35c7231dcddf7b89a76">data</a></td></tr>
<tr class="memdesc:a9eab91667db4d35c7231dcddf7b89a76"><td class="mdescLeft">&#160;</td><td class="mdescRight">データセグメントの開始アドレス（リンカが追加する）  <a href="#a9eab91667db4d35c7231dcddf7b89a76">More...</a><br /></td></tr>
<tr class="separator:a9eab91667db4d35c7231dcddf7b89a76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94d75d0f14dc49a1675d01236b3f8daf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d18/memory_8h.html#a94d75d0f14dc49a1675d01236b3f8daf">ebss</a></td></tr>
<tr class="memdesc:a94d75d0f14dc49a1675d01236b3f8daf"><td class="mdescLeft">&#160;</td><td class="mdescRight">BSSセグメントの終了アドレス（リンカが追加する）  <a href="#a94d75d0f14dc49a1675d01236b3f8daf">More...</a><br /></td></tr>
<tr class="separator:a94d75d0f14dc49a1675d01236b3f8daf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cdeba84ff85eac555121cbe3707be7a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d18/memory_8h.html#a5cdeba84ff85eac555121cbe3707be7a">edata</a></td></tr>
<tr class="memdesc:a5cdeba84ff85eac555121cbe3707be7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">データセグメントの終了アドレス（リンカが追加する）  <a href="#a5cdeba84ff85eac555121cbe3707be7a">More...</a><br /></td></tr>
<tr class="separator:a5cdeba84ff85eac555121cbe3707be7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abce9f5dc9c83f2639b72024fdee5d388"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d18/memory_8h.html#abce9f5dc9c83f2639b72024fdee5d388">end</a></td></tr>
<tr class="memdesc:abce9f5dc9c83f2639b72024fdee5d388"><td class="mdescLeft">&#160;</td><td class="mdescRight">プログラムの終了アドレス（リンカが追加する）  <a href="#abce9f5dc9c83f2639b72024fdee5d388">More...</a><br /></td></tr>
<tr class="separator:abce9f5dc9c83f2639b72024fdee5d388"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dda01f2e8c76f06ab14007808d4e100"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d18/memory_8h.html#a3dda01f2e8c76f06ab14007808d4e100">etext</a></td></tr>
<tr class="memdesc:a3dda01f2e8c76f06ab14007808d4e100"><td class="mdescLeft">&#160;</td><td class="mdescRight">テキストセグメントの終了アドレス（リンカが追加する）  <a href="#a3dda01f2e8c76f06ab14007808d4e100">More...</a><br /></td></tr>
<tr class="separator:a3dda01f2e8c76f06ab14007808d4e100"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab09ca805259f623ddadfe00e26777373"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d18/memory_8h.html#ab09ca805259f623ddadfe00e26777373">maxheap</a></td></tr>
<tr class="memdesc:ab09ca805259f623ddadfe00e26777373"><td class="mdescLeft">&#160;</td><td class="mdescRight">最上位かつ正常なヒープアドレス  <a href="#ab09ca805259f623ddadfe00e26777373">More...</a><br /></td></tr>
<tr class="separator:ab09ca805259f623ddadfe00e26777373"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a0f1e98b35a37865e5e30701f59ed5d"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="../../da/d18/structmemblk.html">memblk</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d18/memory_8h.html#a0a0f1e98b35a37865e5e30701f59ed5d">memlist</a></td></tr>
<tr class="memdesc:a0a0f1e98b35a37865e5e30701f59ed5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">フリーメモリリストの先頭  <a href="#a0a0f1e98b35a37865e5e30701f59ed5d">More...</a><br /></td></tr>
<tr class="separator:a0a0f1e98b35a37865e5e30701f59ed5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af107ea495bad8475dcfc2b02241a84f5"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d18/memory_8h.html#af107ea495bad8475dcfc2b02241a84f5">minheap</a></td></tr>
<tr class="memdesc:af107ea495bad8475dcfc2b02241a84f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">ヒープの開始地点  <a href="#af107ea495bad8475dcfc2b02241a84f5">More...</a><br /></td></tr>
<tr class="separator:af107ea495bad8475dcfc2b02241a84f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb727b700580681a32b288d9ebc9b762"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d18/memory_8h.html#acb727b700580681a32b288d9ebc9b762">text</a></td></tr>
<tr class="memdesc:acb727b700580681a32b288d9ebc9b762"><td class="mdescLeft">&#160;</td><td class="mdescRight">テキストセグメントの開始アドレス（リンカが追加する）  <a href="#acb727b700580681a32b288d9ebc9b762">More...</a><br /></td></tr>
<tr class="separator:acb727b700580681a32b288d9ebc9b762"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>メモリマネージャが使用する定数と構造体の宣言 </p>

<p class="definition">Definition in file <a class="el" href="../../dc/d18/memory_8h_source.html">memory.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="afbaa953760d51e147a40c0858b86c921"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbaa953760d51e147a40c0858b86c921">&#9670;&nbsp;</a></span>freestk</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define freestk</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">p, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">len&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="../../dd/dc5/prototypes_8h.html#a4784823f60649b93d9f04025bcdaea4d">freemem</a>((<span class="keywordtype">char</span> *)((<a class="code" href="../../d0/daa/kernel_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>)(p) - ((<a class="code" href="../../d0/daa/kernel_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>)<a class="code" href="../../dc/d18/memory_8h.html#a7cea716d0e0b7d875047cb28158fe8e1">roundmb</a>(len)) + (<a class="code" href="../../d0/daa/kernel_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>)<span class="keyword">sizeof</span>(<a class="code" href="../../d0/daa/kernel_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>)), \</div><div class="line">                                (<a class="code" href="../../d0/daa/kernel_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>)<a class="code" href="../../dc/d18/memory_8h.html#a7cea716d0e0b7d875047cb28158fe8e1">roundmb</a>(len))</div><div class="ttc" id="prototypes_8h_html_a4784823f60649b93d9f04025bcdaea4d"><div class="ttname"><a href="../../dd/dc5/prototypes_8h.html#a4784823f60649b93d9f04025bcdaea4d">freemem</a></div><div class="ttdeci">syscall freemem(char *, uint32)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dd3/freemem_8c_source.html#l00009">freemem.c:9</a></div></div>
<div class="ttc" id="memory_8h_html_a7cea716d0e0b7d875047cb28158fe8e1"><div class="ttname"><a href="../../dc/d18/memory_8h.html#a7cea716d0e0b7d875047cb28158fe8e1">roundmb</a></div><div class="ttdeci">#define roundmb(x)</div><div class="ttdoc">メモリブロックサイズ（8の倍数）にアドレスを変換するために、8の倍数で丸める。 </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d18/memory_8h_source.html#l00025">memory.h:25</a></div></div>
<div class="ttc" id="kernel_8h_html_a1134b580f8da4de94ca6b1de4d37975e"><div class="ttname"><a href="../../d0/daa/kernel_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a></div><div class="ttdeci">unsigned int uint32</div><div class="ttdoc">符号なし32ビット整数（unsigned int） </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/daa/kernel_8h_source.html#l00015">kernel.h:15</a></div></div>
</div><!-- fragment -->
<p><a class="el" href="../../dd/dc5/prototypes_8h.html#a1e76b5c58571b3f1d53078352cd458d0">getstk()</a>で割り当てたスタックメモリを解放する。 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p</td><td>解放するメモリブロックの基点 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>解放するメモリブロックのサイズ(Byte) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>メモリ解放に成功した場合はOK、それ以外の場合はSYSERRを返す。 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>返り値の詳細は、 <a class="el" href="../../dd/dc5/prototypes_8h.html#a4784823f60649b93d9f04025bcdaea4d">freemem()</a>を参照する事。<br />
 スタックは下方向に成長するため、freemem()に渡すポインタアドレスの基点を上位側から下位側に変換して渡している。 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d18/memory_8h_source.html#l00046">46</a> of file <a class="el" href="../../dc/d18/memory_8h_source.html">memory.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d2/d1d/kill_8c_source.html#l00031">kill()</a>.</p>

</div>
</div>
<a id="a7d467c1d283fdfa1f2081ba1e0d01b6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d467c1d283fdfa1f2081ba1e0d01b6e">&#9670;&nbsp;</a></span>PAGE_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PAGE_SIZE&#160;&#160;&#160;4096</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ページサイズ(メモリ領域を管理する一定のサイズ。Byte単位) </p>

<p class="definition">Definition at line <a class="el" href="../../dc/d18/memory_8h_source.html#l00007">7</a> of file <a class="el" href="../../dc/d18/memory_8h_source.html">memory.h</a>.</p>

</div>
</div>
<a id="a7cea716d0e0b7d875047cb28158fe8e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cea716d0e0b7d875047cb28158fe8e1">&#9670;&nbsp;</a></span>roundmb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define roundmb</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;(char *)((7 + (<a class="el" href="../../d0/daa/kernel_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>)(x)) &amp; (~7))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>メモリブロックサイズ（8の倍数）にアドレスを変換するために、8の倍数で丸める。 </p>
<p>~7 = 0xF8 = 0b11111000である。<br />
 0 -&gt; 7 -&gt; 0 1 -&gt; 8 -&gt; 8 2 -&gt; 9 -&gt; 8 : (省略) 7 -&gt; 14 -&gt; 8 8 -&gt; 15 -&gt; 8 9 -&gt; 16 -&gt; 16 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>アドレス </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>アドレス末尾が0の場合は下位3Bitを切り捨てたアドレス値（8の倍数）、<br />
 それ以外の場合は次の8の倍数に切り上げたアドレス値を返す。 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>フリーメモリリスト上の各ブロックは、memblk構造体（8Byte）の倍数として扱う。 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d18/memory_8h_source.html#l00025">25</a> of file <a class="el" href="../../dc/d18/memory_8h_source.html">memory.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/dd3/freemem_8c_source.html#l00009">freemem()</a>, <a class="el" href="../../d5/dfa/getmem_8c_source.html#l00025">getmem()</a>, and <a class="el" href="../../d9/d2c/getstk_8c_source.html#l00009">getstk()</a>.</p>

</div>
</div>
<a id="ac7de41f73b6eef70fca1b867fdbd121b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7de41f73b6eef70fca1b867fdbd121b">&#9670;&nbsp;</a></span>truncmb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define truncmb</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;(char *)(((<a class="el" href="../../d0/daa/kernel_8h.html#a1134b580f8da4de94ca6b1de4d37975e">uint32</a>)(x)) &amp; (~7))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>メモリブロックサイズ（8の倍数）にアドレスを変換するために、下位3bitを切り捨てる。 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>アドレス </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>下位3Bitを切り捨てたアドレス値（8の倍数）を返す。 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>フリーメモリリスト上の各ブロックは、memblk構造体（8Byte）の倍数として扱う。<br />
 切り捨てはスタートアップ時にだけ使用される。 </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../dc/d18/memory_8h_source.html#l00035">35</a> of file <a class="el" href="../../dc/d18/memory_8h_source.html">memory.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a1a7fd4447857ffb7fbce46a5c6ccc05a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a7fd4447857ffb7fbce46a5c6ccc05a">&#9670;&nbsp;</a></span>bss</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bss</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>BSSセグメントの開始アドレス（リンカが追加する） </p>

</div>
</div>
<a id="a9eab91667db4d35c7231dcddf7b89a76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eab91667db4d35c7231dcddf7b89a76">&#9670;&nbsp;</a></span>data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int data</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>データセグメントの開始アドレス（リンカが追加する） </p>

<p class="reference">Referenced by <a class="el" href="../../df/dda/initialize_8c_source.html#l00053">nulluser()</a>.</p>

</div>
</div>
<a id="a94d75d0f14dc49a1675d01236b3f8daf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94d75d0f14dc49a1675d01236b3f8daf">&#9670;&nbsp;</a></span>ebss</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ebss</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>BSSセグメントの終了アドレス（リンカが追加する） </p>

<p class="reference">Referenced by <a class="el" href="../../df/dda/initialize_8c_source.html#l00053">nulluser()</a>.</p>

</div>
</div>
<a id="a5cdeba84ff85eac555121cbe3707be7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cdeba84ff85eac555121cbe3707be7a">&#9670;&nbsp;</a></span>edata</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int edata</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>データセグメントの終了アドレス（リンカが追加する） </p>

</div>
</div>
<a id="abce9f5dc9c83f2639b72024fdee5d388"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abce9f5dc9c83f2639b72024fdee5d388">&#9670;&nbsp;</a></span>end</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int end</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>プログラムの終了アドレス（リンカが追加する） </p>

<p class="reference">Referenced by <a class="el" href="../../d5/d80/meminit_8c_source.html#l00019">meminit()</a>.</p>

</div>
</div>
<a id="a3dda01f2e8c76f06ab14007808d4e100"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dda01f2e8c76f06ab14007808d4e100">&#9670;&nbsp;</a></span>etext</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int etext</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>テキストセグメントの終了アドレス（リンカが追加する） </p>

<p class="reference">Referenced by <a class="el" href="../../df/dda/initialize_8c_source.html#l00053">nulluser()</a>.</p>

</div>
</div>
<a id="ab09ca805259f623ddadfe00e26777373"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab09ca805259f623ddadfe00e26777373">&#9670;&nbsp;</a></span>maxheap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* maxheap</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>最上位かつ正常なヒープアドレス </p>
<p>最上位かつ正常なヒープアドレス </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d80/meminit_8c_source.html#l00010">10</a> of file <a class="el" href="../../d5/d80/meminit_8c_source.html">meminit.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/dd3/freemem_8c_source.html#l00009">freemem()</a>, <a class="el" href="../../d5/d80/meminit_8c_source.html#l00019">meminit()</a>, and <a class="el" href="../../de/d8d/xsh__memdump_8c_source.html#l00015">xsh_memdump()</a>.</p>

</div>
</div>
<a id="a0a0f1e98b35a37865e5e30701f59ed5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a0f1e98b35a37865e5e30701f59ed5d">&#9670;&nbsp;</a></span>memlist</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../da/d18/structmemblk.html">memblk</a> memlist</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>フリーメモリリストの先頭 </p>
<p>フリーメモリリストの先頭 </p>

<p class="definition">Definition at line <a class="el" href="../../df/dda/initialize_8c_source.html#l00027">27</a> of file <a class="el" href="../../df/dda/initialize_8c_source.html">initialize.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/dd3/freemem_8c_source.html#l00009">freemem()</a>, <a class="el" href="../../d5/dfa/getmem_8c_source.html#l00025">getmem()</a>, <a class="el" href="../../d9/d2c/getstk_8c_source.html#l00009">getstk()</a>, <a class="el" href="../../d5/d80/meminit_8c_source.html#l00019">meminit()</a>, <a class="el" href="../../df/dda/initialize_8c_source.html#l00053">nulluser()</a>, <a class="el" href="../../d8/d0c/xsh__memstat_8c_source.html#l00050">printFreeList()</a>, and <a class="el" href="../../d8/d0c/xsh__memstat_8c_source.html#l00074">printMemUse()</a>.</p>

</div>
</div>
<a id="af107ea495bad8475dcfc2b02241a84f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af107ea495bad8475dcfc2b02241a84f5">&#9670;&nbsp;</a></span>minheap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* minheap</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ヒープの開始地点 </p>
<p>ヒープの開始地点 </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d80/meminit_8c_source.html#l00008">8</a> of file <a class="el" href="../../d5/d80/meminit_8c_source.html">meminit.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/dd3/freemem_8c_source.html#l00009">freemem()</a>, and <a class="el" href="../../d5/d80/meminit_8c_source.html#l00019">meminit()</a>.</p>

</div>
</div>
<a id="acb727b700580681a32b288d9ebc9b762"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb727b700580681a32b288d9ebc9b762">&#9670;&nbsp;</a></span>text</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int text</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>テキストセグメントの開始アドレス（リンカが追加する） </p>

<p class="reference">Referenced by <a class="el" href="../../df/dda/initialize_8c_source.html#l00053">nulluser()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
